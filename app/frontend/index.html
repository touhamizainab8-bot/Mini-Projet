<!DOCTYPE html>
<html>
<head>
  <title>NotesApp</title>
</head>
<body>
  <h1>Notes App</h1>
  <form id="form">
    <input id="note" placeholder="Write a note" />
    <button type="submit">Add</button>
  </form>

  <ul id="notes"></ul>

<script>
async function loadNotes() {
  const res = await fetch("/api/notes");
  const data = await res.json();
  document.getElementById("notes").innerHTML =
    data.map(n => `<li>${n}</li>`).join("");
}

document.getElementById("form").addEventListener("submit", async (e) => {
  e.preventDefault();
  const note = document.getElementById("note").value;
  await fetch("/api/add", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({note})
  })
  loadNotes();
});

loadNotes();
</script>
</body>
</html>
